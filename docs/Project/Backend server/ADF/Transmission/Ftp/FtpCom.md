
# **Ftp命令详解**

## **安装Ftp客户端**

```c++

apt -y install ftp

```

## **Ftp的用户**
- 缺省情况下，ftp服务器操作系统用户名/密码也是ftp客户端登录的用户名/密码。root用户的权限过大，不允许登录ftp服务器
- 创建组：groupadd 组名
- 创建用户：useradd -m 用户名 -g 组名 -d 用户的主目录
- passwd 用户名
- chown -R 用户:组 目录和文件列表

## **登录服务器**
- 方法一：输入ftp 服务器ip地址，回车后根据提示输入用户名和密码
- 方法二：输入ftp，用open 服务器ip地址，连上服务器后再输入用户名和密码
- 方法三：输入ftp -n 服务器ip地址，再输入user 用户名 密码登录


## **切换工作目录**

- 注意，如果目录名中有特殊符号，如空格，可以用双引号把目录名包含起来

1. 查看工作目录
    - 本地： lpwd
    - 服务器：pwd

2. 切换工作目录
    - 本地：  lcd 目录名
    - 服务器: cd 目录名

3. 显示目录下文件
    - 本地：   !ls
    - 服务器： ls

4. 仅列出目录和文件名
    - nlist 目录或文件名 [本地文件名] 
    - 列出/freecplus目录下的匹配*.h的文件名信息
        - nlist /freecplus/*.h
    - 列出/freecplus目录下的匹配*.h的文件名信息，结果输出到本地的/tmp/freecplus.list文件中
        - nlist /freecplus/*.h /tmp/freecplus.list

## **下载/上传文件**

1. 文件传输的模式
    - ftp传输文件的模式分二进制和ASCII码两种模式
    - 二进制模式可以传输任何文件，包括压缩包、可执行程序、图片、视频、音频等
    - ASCII模式只能传输.txt、.htm等ascii码文件（文本文件）
    - 在实际开发中，不管什么文件，都用二进制方式传输
    - 查看当前的传输模式
        - type
    - 设定传输模式为二进制
        - bin
    - 设定传输模式为ASCII
        - ascii

2. 下载文件
    - 下载单个文件  
        - ``get|recv 服务端文件名 [本地文件名]``
    - 使用说明:
        - 下载文件用get和recv都可以
        - 文件名不允许用“*”、”?”等通配符
        - 服务端文件名和本地文件名可以用绝对路径，如果不写路径，表示当前工作目录
        - 如果本地文件名省略不写，表示把服务端文件下载到本地的当前工作目录，文件名与服务端文件名相同
    
    - 下载多个文件  
        - ``mget 服务端文件1 服务端文件2 服务端文件3 …… 服务端文件n``
    - 使用说明：
        - 待下载的文件名，可以一一列出来（用空格分隔），也可以用通配符。
        - 下载的文件，存放在本地当前工作目录中。
        - 下载文件时，会一一提示，如果想关闭提示信息，先输入prompt命令。

    
    3. 上传文件 
        - 上传单个文件  
            - ``put|send 本地文件名 [服务端文件名]``
        - 使用说明:
            - 上传文件用put和send都可以。
            - 文件名不允许用通配符。
            - 本地文件名和服务端文件名可以用绝对路径，如果不写路径，表示当前工作目录。
            - 如果服务端文件名省略不写，表示把本地文件上传到服务端的当前工作目录，文件名与本地文件名相同
        
        - 上传多个文件
        - 使用说明:
            - 待上传的文件名，可以一一列出来（用空格分隔），也可以用通配符
            - 上传的文件，存放在服务端当前工作目录中
            - 上传文件时，会一一提示，如果想关闭都显示信息，先输入prompt命令

## **其它ftp命令**

1. 重命名ftp服务端的文件         
    - ``rename 旧文件名 新文件名``
2. 删除ftp服务端上单个文件       
    - ``delete 文件名``
3. 删除ftp服务端的多个文件       
    - ``mdelete 文件名1 文件名2 文件名3 …… 文件名n``
4. 在ftp服务端上创建目录         
    - ``mkdir pathname``
5. 删除ftp服务端上的目录         
    - ``rmdir pathname``
6. 切换传输模式                 
    - ``passive``
7. 显示帮助信息                 
    - ``help [命令名]``
8. 退出ftp                    
    - `` bye``

            
## **ftp的操作权限**
- 对本地目录和文件的操作权限，由执行ftp命令的用户的权限决定
- 对服务端目录和文件的操作权限，由登录的用户的权限决定
